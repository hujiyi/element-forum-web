{"version":3,"sources":["webpack:///./src/views/home/pages/BoardList.vue?fe08","webpack:///./src/model/category.js","webpack:///src/views/home/pages/BoardList.vue","webpack:///./src/views/home/pages/BoardList.vue?d53d","webpack:///./src/views/home/pages/BoardList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","item","index","key","attrs","colors","length","staticRenderFns","Category","title","description","views","reply","getUser","user","id","username","get","email","prototype","fromJson","level","topicCount","createdAt","updatedAt","createdBy","lastEditor","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIO,GAAG,UAAUP,EAAIQ,GAAIR,EAAc,YAAE,SAASS,EAAKC,GAAO,OAAON,EAAG,MAAM,CAACO,IAAID,GAAO,CAACN,EAAG,QAAQ,CAACQ,MAAM,CAAC,KAAOH,EAAK,MAAQT,EAAIa,OAAOH,EAAQV,EAAIa,OAAOC,YAAY,OAAM,IAC5SC,EAAkB,G,wFCIhBC,G,oBACF,aAAsC,IAA1BC,EAA0B,uDAApB,GAAIC,EAAgB,uDAAJ,GAAI,uBAClCjB,KAAKgB,MAAQA,EACbhB,KAAKiB,YAAcA,EACnBjB,KAAKkB,MAAQ,EACblB,KAAKmB,MAAQ,IA+BrB,SAASC,EAAQC,GAEb,MAAO,CACHC,GAAID,EAAKC,GACTC,SAAUF,EAAKG,IAAI,YACnBC,MAAOJ,EAAKG,IAAI,UA/BxBT,EAASW,UAAUC,SAAW,SAAUnB,GACpC,MAAO,CACHc,GAAId,EAAKc,GACTN,MAAOR,EAAKgB,IAAI,SAChBP,YAAaT,EAAKgB,IAAI,eACtBI,MAAOpB,EAAKgB,IAAI,SAChBK,WAAYrB,EAAKgB,IAAI,cACrBM,UAAWtB,EAAKsB,UAChBC,UAAWvB,EAAKuB,UAOhBC,UAAWxB,EAAKgB,IAAI,aACdJ,EAAQZ,EAAKgB,IAAI,cACjB,GACNS,WAAYzB,EAAKgB,IAAI,cACfJ,EAAQZ,EAAKgB,IAAI,eACjB,KAcCT,QCnCf,G,UAAA,CACE,KAAF,YACE,WAAF,CACI,MAAJ,WAAM,OAAN,kDAGE,KAAF,WAAI,MAAJ,CACM,OAAN,+CACM,WAAN,GACM,SAAN,GACM,YAAN,IAEE,QAZF,WAaI,KAAJ,iBAEE,QAAF,CACI,cADJ,WACM,IAAN,OAAM,OAAN,qDAAQ,IAAR,IAAQ,OAAR,iFACA,gBACA,+BAFA,SAGA,wDAHA,OAGA,EAHA,OAIA,6DAJA,iDC9BiX,I,YCO7WmB,EAAY,eACd,EACApC,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAoB,E","file":"js/chunk-2d0c8237.590fb9fb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-2\"},[_vm._v(\" 版块列表 \"),_vm._l((_vm.categories),function(item,index){return _c('div',{key:index},[_c('board',{attrs:{\"item\":item,\"color\":_vm.colors[index % _vm.colors.length]}})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n/**\r\n * 这个定义了，但是没用上\r\n */\r\n\r\nclass Category {\r\n    constructor(title='', description='') {\r\n        this.title = title;\r\n        this.description = description;\r\n        this.views = 0;\r\n        this.reply = 0;\r\n    }\r\n}\r\n\r\n\r\nCategory.prototype.fromJson = function (item) {\r\n    return {\r\n        id: item.id,   // leancloud Class 自带属性，对应 leanclud Class 中的 \"ObjectId\", 可以用\".id\"直接引用\r\n        title: item.get(\"title\"),  // title 为自定义的属性名，要使用 get() 来取值 \r\n        description: item.get(\"description\"),\r\n        level: item.get(\"level\"),\r\n        topicCount: item.get(\"topicCount\"),\r\n        createdAt: item.createdAt,   // leancloud Class 自带属性,创建时间,不能修改值\r\n        updatedAt: item.updatedAt,   // leancloud Class 自带属性,最后修改时间,只能leancloud 自动修改\r\n\r\n        /**\r\n         * createdBy、lastEditor 指向另一个表的字段, 默认只能得到该字段在关联表中的id 值\r\n         * 要得到完整值， 查询时字段名要包含在 include 中，\r\n         * 取值时，要先判断是否为空，如果为空，取值会抛出异常，\r\n         */\r\n        createdBy: item.get(\"createdBy\")\r\n            ? getUser(item.get(\"createdBy\"))\r\n            : \"\",\r\n        lastEditor: item.get(\"lastEditor\")\r\n            ? getUser(item.get(\"lastEditor\"))\r\n            : \"\",\r\n\r\n    }\r\n}\r\n\r\n// 获取用户表中各个字段的值\r\nfunction getUser(user) {\r\n    // console.log(user);\r\n    return {\r\n        id: user.id,\r\n        username: user.get(\"username\"),\r\n        email: user.get(\"email\"),\r\n    };\r\n}\r\nexport default Category;","<template>\r\n    <div class=\"p-2\">\r\n        版块列表\r\n        <div v-for=\"(item, index) in categories\" :key=\"index\">\r\n            <!-- index % colors.length: 表示用索引号 除 颜色数量取余数,实现在多个颜色的循环使用 -->\r\n            <board :item=\"item\" :color=\"colors[index % colors.length]\"></board>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CategoryService from \"../../../api/service/category_service\";\r\nimport Category from '../../../model/category';\r\nimport moment from 'moment';\r\nexport default {\r\n    name: 'BoardList',\r\n    components: {\r\n        Board: () => import('../components/Board.vue')\r\n\r\n    },\r\n    data: () => ({\r\n        colors: ['red', 'blue', 'Gold', 'SeaGreen', 'DarkMagenta'],\r\n        categories: [],\r\n        pageSize: 10,        // 每页大小\r\n        currentPage: 1,      // 当前页\r\n    }),\r\n    mounted() {\r\n        this.getCategories();\r\n    },\r\n    methods: {\r\n        async getCategories() {\r\n            this.categories = [];\r\n            let skip = (this.currentPage - 1) * this.pageSize;\r\n            let response = await CategoryService.fetchAll(this.pageSize, skip, [], ['-level', 'createdAt']);\r\n            this.categories = response.map(item => { return new Category().fromJson(item) });\r\n\r\n\r\n        }\r\n    },\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BoardList.vue?vue&type=template&id=d76b52aa&\"\nimport script from \"./BoardList.vue?vue&type=script&lang=js&\"\nexport * from \"./BoardList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}