(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79c95623"],{"53ca":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}},a9a5:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"reset-module",attrs:{shadow:"always"}},[r("el-form",[r("div",{staticClass:"horiz-container form-title"},[r("span",[e._v("通过邮箱重置密码")]),r("div",{staticClass:"spacer"}),r("router-link",{attrs:{to:"/"}},[r("i",{staticClass:"fa fa-home fa-2x"})])],1),e.sendEmailSuccess?r("div",[r("el-alert",{attrs:{title:"请登录 "+this.email+" 邮箱进行密码重置",type:"success",effect:"dark",center:"","show-icon":"",closable:!1}})],1):r("div",[r("el-form-item",[r("el-input",{attrs:{type:"text","prefix-icon":"fa fa-envelope-o",placeholder:"电子邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("el-form-item",[r("el-button",{staticClass:"full-width",attrs:{type:"primary"},on:{click:e.passwordReset}},[e._v("发送邮件重置密码")])],1),r("div",{staticClass:"horiz-container"},[r("div",{staticClass:"spacer"}),r("router-link",{staticClass:"mx-2",attrs:{to:"/login"}},[r("el-link",{attrs:{underline:!1,type:"success"}},[e._v("使用已有账号登录")])],1),r("router-link",{staticClass:"mx-2",attrs:{to:"/signup"}},[r("el-link",{attrs:{underline:!1,type:"danger"}},[e._v("没有账号")])],1)],1)],1)])],1)},a=[],s=r("1da1"),u=(r("96cf"),r("498a"),r("fee1")),c={name:"PasswordReset",data:function(){return{email:"",sendEmailSuccess:!1}},methods:{passwordReset:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.email.trim(),t.next=3,u["a"].passwordResetByEmail(r);case 3:n=t.sent,"200"==n?(e.sendEmailSuccess=!0,e.$notify.success({title:"发送重置密码邮件成功",message:"请查看邮件，以便完成密码重置",showClose:!1})):(a={1:"请不要往同一个邮件地址发送太多邮件",205:"此电子邮箱没有被注册使用","-1":"请求被终止，请检查网络连接状况"},e.$notify.error({title:"密码重置失败",message:a[n],showClose:!1}));case 5:case"end":return t.stop()}}),t)})))()}}},o=c,i=(r("f512"),r("2877")),l=Object(i["a"])(o,n,a,!1,null,null,null);t["default"]=l.exports},af66:function(e,t,r){},f512:function(e,t,r){"use strict";r("af66")},fee1:function(e,t,r){"use strict";var n=r("53ca"),a=r("1da1"),s=r("d4ec"),u=r("bee2"),c=(r("96cf"),r("c72e")),o=r.n(c),i=function(){function e(){Object(s["a"])(this,e)}return Object(u["a"])(e,[{key:"signUp",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:"",e.prev=1,a=new o.a.User,a.setUsername(t),a.setPassword(r),a.set("nickname",t),n&&a.setEmail(n),e.next=9,a.signUp();case 9:return s=e.sent,console.log("注册账号成功：",s),e.abrupt("return",{status_code:"200",user:s});case 14:return e.prev=14,e.t0=e["catch"](1),console.log("注册账号失败：",e.t0.code,e.t0),e.abrupt("return",{status_code:e.t0.code,user:null});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"logIn",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.User.logIn(t,r);case 3:if(n=e.sent,!n){e.next=7;break}return console.log("登录成功:",n),e.abrupt("return",{status_code:"200",user:n});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log("登录失败：",e.t0.code,e.t0),e.abrupt("return",{status_code:e.t0.code,user:null});case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"logOut",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.User.logOut());case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"passwordResetByEmail",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.User.requestPasswordReset(t);case 3:return r=e.sent,console.log(r.code,Object(n["a"])(r)),e.abrupt("return","200");case 8:return e.prev=8,e.t0=e["catch"](0),console.log("发送邮件：",e.t0.code,e.t0),e.abrupt("return",e.t0.code);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.User.current().getSessionToken());case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new i}}]);
//# sourceMappingURL=chunk-79c95623.a2483c72.js.map