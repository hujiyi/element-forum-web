{"version":3,"sources":["webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./src/views/home/pages/Board.vue?faaf","webpack:///./src/views/home/pages/Board.vue?5757","webpack:///src/views/home/pages/Board.vue","webpack:///./src/views/home/pages/Board.vue?c4d6","webpack:///./src/views/home/pages/Board.vue","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./src/api/service/topic_service.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/api/service/base_service.js","webpack:///./src/model/topic.js"],"names":["aCallable","isObject","slice","factories","construct","C","argsLength","args","list","i","Function","join","module","exports","bind","that","fn","this","partArgs","call","arguments","boundFunction","concat","length","apply","prototype","_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","create","constructor","value","writable","configurable","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Reflect","sham","Proxy","Boolean","valueOf","e","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_typeof","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","result","Super","NewTarget","possibleConstructorReturn","$","fails","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","target","stat","forced","it","render","_vm","_h","$createElement","_c","_self","_v","_s","$route","params","id","staticClass","attrs","_l","item","index","key","name","title","reply","views","style","colors","Math","floor","random","lastEditor","_f","username","updatedAt","staticRenderFns","response","status_code","component","getBuiltIn","aConstructor","anObject","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","FORCED","Target","newTarget","$args","push","proto","instance","TABLE_NAME","TopicService","table_name","BaseService","getTopicByCategory","limit","skip","sort_field","query","LC","Query","board","createWithoutData","include","equalTo","descending","isMinus","console","log","substr","addDescending","addAscending","select","count","total","find","code","obj","Symbol","iterator","__esModule","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","callbackfn","undefined","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","sort_fields","ascending","data","Collection","extend","save","set","items","id_list","containedIn","saveAll","destroy","destroyAll","field","val","User","current","Topic","content","level","getCategory","label","get","getUser","user","email","formJson","category","createdAt","createdBy"],"mappings":"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","file":"js/chunk-025b2ba9.42db3a2a.js","sourcesContent":["'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func -- we have no proper alternatives, IE8- only\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aCallable(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"Board ID: \"+_vm._s(_vm.$route.params.id))]),_c('el-row',{staticClass:\"vertical-center my-4\"},[_c('el-col',{attrs:{\"sm\":14,\"xs\":24}},[_c('span',[_vm._v(\"标题\")])]),_c('el-col',{staticClass:\"hidden-xs-only\",attrs:{\"sm\":2}},[_vm._v(\"评论\")]),_c('el-col',{staticClass:\"hidden-xs-only\",attrs:{\"sm\":2}},[_vm._v(\"查看\")]),_c('el-col',{staticClass:\"hidden-xs-only\",attrs:{\"sm\":6}},[_c('span',[_vm._v(\"最后评论\")])])],1),_vm._l((_vm.topics),function(item,index){return _c('div',{key:index},[_c('el-row',{staticClass:\"vertical-center my-4\"},[_c('el-col',{attrs:{\"sm\":14,\"xs\":24}},[_c('router-link',{attrs:{\"to\":{ name: 'Topic', params: { id: item.id } }}},[_c('el-link',{attrs:{\"underline\":false,\"type\":\"primary\"}},[_vm._v(_vm._s(item.title))])],1)],1),_c('el-col',{staticClass:\"hidden-xs-only\",attrs:{\"sm\":2}},[_vm._v(_vm._s(item.reply))]),_c('el-col',{staticClass:\"hidden-xs-only\",attrs:{\"sm\":2}},[_vm._v(_vm._s(item.views))]),_c('el-col',{staticClass:\"hidden-xs-only\",attrs:{\"sm\":6}},[_c('div',{staticClass:\"vertical-center\"},[_c('el-avatar',{style:((\"background-color: \" + (_vm.colors[Math.floor(Math.random() * (_vm.colors.length + 1))]) + \";\")),attrs:{\"size\":\"large\",\"title\":(\"最后更新: \" + (item.lastEditor.username))}},[_c('span',{staticClass:\"avatar-title\"},[_vm._v(_vm._s(_vm._f(\"usernameAvatar\")(item.lastEditor.username)))])]),_vm._v(\" \"+_vm._s(_vm._f(\"datetimeFormat\")(item.updatedAt))+\" \")],1)])],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <p>Board ID: {{ $route.params.id }}</p>\r\n        <el-row class=\"vertical-center my-4\">\r\n            <el-col :sm=\"14\" :xs=\"24\">\r\n                <span>标题</span>\r\n            </el-col>\r\n            <el-col :sm=\"2\" class=\"hidden-xs-only\">评论</el-col>\r\n            <el-col :sm=\"2\" class=\"hidden-xs-only\">查看</el-col>\r\n            <el-col :sm=\"6\" class=\"hidden-xs-only\">\r\n                <span>最后评论</span>\r\n            </el-col>\r\n        </el-row>\r\n        <div v-for=\"(item, index) in topics\" :key=\"index\">\r\n            <el-row class=\"vertical-center my-4\">\r\n                <el-col :sm=\"14\" :xs=\"24\">\r\n                    <router-link :to=\"{ name: 'Topic', params: { id: item.id } }\">\r\n                        <el-link :underline=\"false\" type=\"primary\">{{ item.title }}</el-link>\r\n                    </router-link>\r\n                </el-col>\r\n                <el-col :sm=\"2\" class=\"hidden-xs-only\">{{ item.reply }}</el-col>\r\n                <el-col :sm=\"2\" class=\"hidden-xs-only\">{{ item.views }}</el-col>\r\n                <el-col :sm=\"6\" class=\"hidden-xs-only\">\r\n                    <div class=\"vertical-center\">\r\n                        <!-- :style=\"`background-color: ${colors[index % colors.length]};`\"  循环背景颜色 -->\r\n                        <!-- :style=\"`background-color: ${colors[Math.floor(Math.random() * (colors.length + 1))]};`\"  随机背景颜色 -->\r\n                        <el-avatar\r\n                            :style=\"`background-color: ${colors[Math.floor(Math.random() * (colors.length + 1))]};`\"\r\n                            size=\"large\"\r\n                            :title=\"`最后更新: ${item.lastEditor.username}`\"\r\n                        >\r\n                            <span\r\n                                class=\"avatar-title\"\r\n                            >{{ item.lastEditor.username | usernameAvatar }}</span>\r\n                        </el-avatar>\r\n                        {{ item.updatedAt | datetimeFormat }}\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TopicService from '../../../api/service/topic_service';\r\nimport Topic from '../../../model/topic';\r\n\r\nexport default {\r\n    name: 'Board',\r\n    data: () => ({\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        topics: [],\r\n        totalCount: 0,\r\n        colors: ['red', 'blue', 'Gold', 'SeaGreen', 'DarkMagenta'],\r\n    }),\r\n\r\n    mounted() {\r\n        // this.$route.params.id 为接收动态路由传递进来的参数, 变量 id 在路由中定义\r\n        this.getTopics(this.$route.params.id);\r\n    },\r\n    methods: {\r\n        async getTopics(boardId) {\r\n            if (boardId) {\r\n                this.topics = [];\r\n                let skip = (this.currentPage - 1) * this.pageSize;\r\n                let response = await TopicService.getTopicByCategory(boardId, this.pageSize, skip, '-updatedAt');\r\n                if (response.status_code === \"ok\") {\r\n                    this.totalCount = response.totalCount;\r\n                    this.topics = response.reslut.map(item => { return new Topic().formJson(item) });\r\n                }\r\n            }\r\n        },\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.vertical-center {\r\n    /* 使用弹性布局  */\r\n    display: flex;\r\n    /* 主轴方向: 从左到右  */\r\n    flex-flow: row;\r\n    width: 100%;\r\n    align-items: center;\r\n}\r\n\r\n.avatar-title {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=2c00c888&\"\nimport script from \"./Board.vue?vue&type=script&lang=js&\"\nexport * from \"./Board.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Board.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aConstructor = require('../internals/a-constructor');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.es/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aConstructor(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aConstructor(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","import LC from 'leancloud-storage';  // 导入 leancloud 数据存储模块\r\nimport BaseService from './base_service';  // 导入访问 leancloud 数据存储的基类\r\n\r\n\r\nconst TABLE_NAME = 'Topic';  // leancloud 中存储数据的表名(Class)\r\n\r\n/**\r\n * 对leancloud应用中 名为 \"Topic\" 的 Class 进行数据操作的类\r\n */\r\nclass TopicService extends BaseService {\r\n    constructor(table_name) {\r\n        // 调用父类的构造函数\r\n        super(table_name);\r\n        // 当前子类的属性 this.TABLE_NAME\r\n        this.TABLE_NAME = table_name;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 查询指定 id 的版块 的前 n 条记录\r\n * @param {*} id 版块的id\r\n * @param {*} limit 返回的记录数\r\n * @returns \r\n */\r\nTopicService.prototype.getTopicByCategory = async function (id, limit = 5, skip = 0, sort_field = '-createdAt') {\r\n    // console.log(`category id:`, id);\r\n    try {\r\n        let query = new LC.Query(this.TABLE_NAME);\r\n        const board = LC.Object.createWithoutData('Category', id);  // 根据 id 获取版块的原始数据\r\n        query.include(['createdBy', 'lastEditor']);  // 包含查询, 获取 创建者和修改者的详细信息\r\n        query.equalTo('category', board)    // 关系查询\r\n            .descending('level');           // 第一排序属性：降序\r\n\r\n        // 第二排序属性： this.isMinus()  是父类中定义的方法，判断排序的字段是否 负号 开头\r\n        if (this.isMinus(sort_field)) {\r\n            console.log(sort_field, sort_field.substr(1));\r\n            // 去掉负号后的字段名降序\r\n            query.addDescending(sort_field.substr(1));\r\n        }\r\n        else {\r\n            query.addAscending(sort_field);  // 升序\r\n        }\r\n\r\n        // 指定需要返回的属性，并包括内置属性 objectId、createdAt 和 updatedAt\r\n        query.select(['title', 'level', 'reply', 'views', 'level', 'createdBy', 'lastEditor']);\r\n        let total = await query.count();   // 返回记录总数\r\n        console.log('total:', total);\r\n        // 分页查询参数\r\n        let response = await query.limit(limit).skip(skip).find();\r\n        console.log('getTopicByCategory:', total, response);\r\n        return {\r\n            \"status_code\": \"ok\",\r\n            \"totalCount\": total,\r\n            \"reslut\": response,\r\n        }\r\n    } catch (e) {\r\n        console.log('查询数据错误：', e.code, e);\r\n        return {\r\n            \"status_code\": e.code,\r\n            \"totalCount\": 0,\r\n            \"reslut\": e,\r\n        };\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n// 导出子类时使用 new 直接进行实例化\r\nexport default new TopicService(TABLE_NAME);","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import LC from 'leancloud-storage';  // 导入 leancloud 数据存储模块\r\n\r\n\r\n/**\r\n * Leancloud 数据访问的基类\r\n * 所有函数使用 async/await 实现异步操作\r\n * 虽然有个别函数不需要使用异步，但调用时难以区分，所以就全部都加上异步了\r\n * 调用时，函数名前面一定要加上 await， 否则得不到正确的结果\r\n */\r\nclass BaseService {\r\n    constructor(table_name) {\r\n        this.TABLE_NAME = table_name;\r\n    }\r\n\r\n    /**\r\n     获取所有数据\r\n     * @param {*} limit 每页记录数量\r\n     * @param {*} skip 跳过记录数    \r\n     * @param {*} include 关联到其他 Class 的字段名，例如: 'createdBy', 'lastEditor'\r\n     * @param {*} sort_fields 降序排列的排序字段名列表，例如：['-level', '-updatedAt']， 降序的字段名前面加负号\r\n     * sort_fields 和 include 的默认值都是： []， 只包含一个字段时也要加： []\r\n     * @returns \r\n     */\r\n    async fetchAll(limit = 10, skip = 0, include = [], sort_fields = []) {\r\n        try {\r\n            let query = new LC.Query(this.TABLE_NAME);\r\n            if (include[0]) {\r\n                // 关联查询其他表\r\n                query.include(include);\r\n            }\r\n\r\n            // 判断是否包含排序的字段名\r\n            if (sort_fields.length > 0) {\r\n                for (let i = 0; i < sort_fields.length; i++) {\r\n                    // 多字段排序时，可以直接用   addDescending 和 addAscending\r\n                    // 不想那么麻烦，可以用下面这段\r\n                    // if (this.#isMinus(sort_fields[i])) {\r\n                    //     console.log(sort_fields[i], sort_fields[i].substr(1));\r\n                    //     // 去掉负号后的字段名降序\r\n                    //     query.addDescending(sort_fields[i].substr(1));\r\n                    // }\r\n                    // else {\r\n                    //     query.addAscending(sort_fields[i]);  // 升序\r\n                    // }     \r\n\r\n                    // 下面这段的功能和上面被注释掉的是一样的，之所以保留是因为这是最初写的，写了很久\r\n                    if (i === 0) {\r\n                        if (this.isMinus(sort_fields[0])) {\r\n                            // console.log(sort_fields[i], sort_fields[i].substr(1));\r\n                            // 去掉负号后的字段名降序\r\n                            query.descending(sort_fields[0].substr(1));\r\n                        }\r\n                        else {\r\n                            query.ascending(sort_fields[0]);  // 升序\r\n                        }\r\n                    } else {\r\n                        // 第二个及以后的排序字段和第一个字段调用的方法不一样\r\n                        if (this.isMinus(sort_fields[i])) {\r\n                            // console.log(sort_fields[i], sort_fields[i].substr(1));\r\n                            // 去掉负号后的字段名降序\r\n                            query.addDescending(sort_fields[i].substr(1));\r\n                        }\r\n                        else {\r\n                            query.addAscending(sort_fields[i]);  // 升序\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            let total = await query.count();   // 记录总数           \r\n            // 分页查询的结果 \r\n            let response = await query.limit(limit).skip(skip).find();\r\n            // console.log(response);\r\n            return {\r\n                \"status_code\": \"ok\",\r\n                \"totalCount\": total,\r\n                \"reslut\": response,\r\n            };\r\n        } catch (e) {\r\n            console.log('查询数据错误：', e.code, e);\r\n            return {\r\n                \"status_code\": e.code,\r\n                \"totalCount\": 0,\r\n                \"reslut\": e,\r\n            };\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 添加数据\r\n     * @param {*} data 以对象形式提供的数据 \r\n     * @returns 创建成功的对象\r\n     */\r\n    async create(data) {\r\n        try {\r\n            let Collection = LC.Object.extend(this.TABLE_NAME);\r\n            let query = new Collection(data);\r\n            let response = await query.save();\r\n            return response;\r\n        } catch (e) {\r\n            console.log('添加数据错误：', e.code, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 修改记录\r\n     * @param {*} id 记录的id\r\n     * @param {*} data 除 id 以外的其他字段组成的对象类型数据\r\n     */\r\n    async update(id, data) {\r\n        try {\r\n            let query = LC.Object.createWithoutData(this.TABLE_NAME, id);\r\n            query.set(data);  // 修改数据\r\n            let response = await query.save();\r\n            return response;\r\n        } catch (e) {\r\n            console.log('修改数据错误：', e.code, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 批量修改数据\r\n     * @param {*} items 包含待更新值的记录数组\r\n     * @returns \r\n     */\r\n    async updateBatch(items) {\r\n        console.log('items:', items);\r\n        try {\r\n            // map遍历数组，由返回值组成一个新数组, 原数组不变\r\n            let id_list = items.map(item => { return item.id });\r\n            let query = new LC.Query(this.TABLE_NAME);\r\n            let response = await query\r\n                .containedIn('objectId', id_list)\r\n                .find();\r\n            // map() 遍历数组，不改变原数组\r\n            let result = response.map(item => {\r\n                let data = items.find(it => {\r\n                    console.log('update batch:', it);\r\n                    return it.id === item.id\r\n                });\r\n                // console.log('update batch:', data);             \r\n                item.set(data);\r\n                return item;\r\n            });\r\n            return await LC.Object.saveAll(result);\r\n        } catch (e) {\r\n            console.log('批量修改数据错误：', e.code, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 删除数据\r\n     * @param {*} id \r\n     * @returns \r\n     */\r\n    async delete(id) {\r\n        try {\r\n            let query = LC.Object.createWithoutData(this.TABLE_NAME, id);\r\n            let response = await query.destroy();\r\n            return response;\r\n        } catch (e) {\r\n            console.log('删除数据错误：', e.code, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     * 批量删除，先按 id 查询出所删除的数据，再调用destroyAll() 进行删除\r\n     * 其他批量操作类似\r\n     * @param {*} items 待删除记录的数组\r\n     * @returns \r\n     */\r\n    async deleteBatch(items) {\r\n        try {\r\n            // 从要删除的记录中取出 id 值，组成一个新数组\r\n            let id_list = items.map(item => { return item.id });\r\n            let query = new LC.Query(this.TABLE_NAME);\r\n            // 根据多个 id 组成的数组查询符合条件的记录\r\n            let response = await query\r\n                .containedIn('objectId', id_list)\r\n                .destroyAll();\r\n            console.log('deleteBatch:', response)\r\n            return true;\r\n        } catch (e) {\r\n            console.log('批量删除数据错误：', e.code, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 检查指定的字段值是否已经存在, 字母区分大小写\r\n     * @param {*} field 字段名\r\n     * @param {*} val 字段值\r\n     * @returns 字段值已存在，返回 true， 否则返回 false\r\n     */\r\n    async existsFieldValue(field = 'title', val) {\r\n        try {\r\n            let query = new LC.Query(this.TABLE_NAME);\r\n            let count = await query.equalTo(field, val).count();\r\n            console.log(count);\r\n            return count > 0;\r\n        } catch (e) {\r\n            console.log('查询错误：', e.code, e);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 当前已登录用户\r\n     * @returns 返回当前已登录用户\r\n     */\r\n    async currentUser() {\r\n        return LC.User.current();\r\n    }\r\n\r\n\r\n    /**\r\n     * 判断字符串是不是负号开头\r\n     * @param {*} val \r\n     * @returns 负号：true; 非负号： false\r\n     */\r\n    isMinus(val) {\r\n        if (val[0] === '-') {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default BaseService;","class Topic {\r\n    constructor(title = '', content = '') {\r\n        this.title = title;\r\n        this.content = content;\r\n        this.views = 0;\r\n        this.reply = 0;\r\n        this.level = 0;\r\n    }\r\n}\r\n\r\nTopic.prototype.formJson = function (item) {\r\n    return {\r\n        id: item.id,\r\n        category: item.get('category')\r\n            ? getCategory(item.get('category'))\r\n            : '',\r\n        title: item.get('title'),\r\n        content: item.get('content'),\r\n        views: item.get('views'),\r\n        reply: item.get('reply'),\r\n        level: item.get('level'),\r\n        createdAt: item.createdAt,\r\n        updatedAt: item.updatedAt,\r\n        createdBy: item.get(\"createdBy\")\r\n            ? getUser(item.get(\"createdBy\"))\r\n            : \"\",\r\n        lastEditor: item.get(\"lastEditor\")\r\n            ? getUser(item.get(\"lastEditor\"))\r\n            : \"\",\r\n    }\r\n}\r\n\r\n// 版块, 此处数据适用于下拉框\r\nfunction getCategory(item) {\r\n    return {\r\n        label: item.get('title'),\r\n        value: item.id,\r\n    }\r\n}\r\n\r\n// 获取用户表中各个字段的值\r\nfunction getUser(user) {\r\n    // console.log(user);\r\n    return {\r\n        id: user.id,\r\n        username: user.get(\"username\"),\r\n        email: user.get(\"email\"),\r\n    };\r\n}\r\nexport default Topic;"],"sourceRoot":""}