(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9970f68"],{"103e":function(t,e,r){},"59a6":function(t,e,r){"use strict";var n=r("1da1"),a=r("d4ec"),i=r("262e"),o=r("2caf"),s=(r("96cf"),r("7db0"),r("c72e")),c=r.n(s),l=r("e7c4"),u="Topic",d=function(t){Object(i["a"])(r,t);var e=Object(o["a"])(r);function r(t){var n;return Object(a["a"])(this,r),n=e.call(this,t),n.TABLE_NAME=t,n}return r}(l["a"]);d.prototype.getTopicByCategory=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,i,o,s,l,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:5,n=u.length>2&&void 0!==u[2]?u[2]:0,a=u.length>3&&void 0!==u[3]?u[3]:"-createdAt",t.prev=3,i=new c.a.Query(this.TABLE_NAME),o=c.a.Object.createWithoutData("Category",e),i.include(["createdBy","lastEditor"]),i.equalTo("category",o).descending("level"),this.isMinus(a)?(console.log(a,a.substr(1)),i.addDescending(a.substr(1))):i.addAscending(a),i.select(["title","level","reply","views","level","createdBy","lastEditor"]),t.next=12,i.count();case 12:return s=t.sent,console.log("total:",s),t.next=16,i.limit(r).skip(n).find();case 16:return l=t.sent,console.log("getTopicByCategory:",s,l),t.abrupt("return",{status_code:"ok",totalCount:s,reslut:l});case 21:return t.prev=21,t.t0=t["catch"](3),console.log("查询数据错误：",t.t0.code,t.t0),t.abrupt("return",{status_code:t.t0.code,totalCount:0,reslut:t.t0});case 25:case"end":return t.stop()}}),t,this,[[3,21]])})));return function(e){return t.apply(this,arguments)}}(),e["a"]=new d(u)},"5e10":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"board-border p-4",style:"border-left-color: "+t.color+";"},[r("el-row",[r("el-col",{attrs:{md:10,sm:24}},[r("p",{staticClass:"board-title"},[r("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"Board",params:{id:t.item.id}}}},[t._v(t._s(t.item.title))])],1),r("p",{staticClass:"board-description"},[t._v(t._s(t.item.description))])]),r("el-col",{staticClass:"hidden-sm-and-down",attrs:{md:14}},[0===t.topics.length?r("span",[t._v("当前版块无内容，请添加话题。")]):t._e(),t._l(t.topics,(function(e,n){return r("div",{key:n},[r("div",{staticClass:"horiz-container my-2"},[r("router-link",{attrs:{to:{name:"Topic",params:{id:e.id}}}},[r("el-link",{attrs:{underline:!1,type:"primary"}},[t._v(t._s(e.title))])],1),r("span",{staticClass:"spacer"}),r("span",{staticClass:"created-time"},[t._v(t._s(t._f("datetimeFromNow")(e.createdAt)))])],1)])}))],2)],1)],1)},a=[],i=r("1da1"),o=(r("96cf"),r("d81d"),r("59a6")),s=r("f9df"),c={name:"LatestTopic",props:["item","color"],data:function(){return{topics:[],pageSize:8}},mounted:function(){this.getTopics()},methods:{getTopics:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.topics=[],e.next=3,o["a"].getTopicByCategory(t.item.id);case 3:r=e.sent,"ok"===r.status_code&&(t.topics=r.reslut.map((function(t){return(new s["a"]).formJson(t)})));case 5:case"end":return e.stop()}}),e)})))()}}},l=c,u=(r("8704"),r("2877")),d=Object(u["a"])(l,n,a,!1,null,null,null);e["default"]=d.exports},8704:function(t,e,r){"use strict";r("103e")},f9df:function(t,e,r){"use strict";var n=r("d4ec"),a=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(n["a"])(this,t),this.title=e,this.content=r,this.views=0,this.reply=0,this.level=0};function i(t){return{label:t.get("title"),value:t.id}}function o(t){return{id:t.id,username:t.get("username"),email:t.get("email")}}a.prototype.formJson=function(t){return{id:t.id,category:t.get("category")?i(t.get("category")):"",title:t.get("title"),content:t.get("content"),views:t.get("views"),reply:t.get("reply"),level:t.get("level"),createdAt:t.createdAt,updatedAt:t.updatedAt,createdBy:t.get("createdBy")?o(t.get("createdBy")):"",lastEditor:t.get("lastEditor")?o(t.get("lastEditor")):""}},e["a"]=a}}]);
//# sourceMappingURL=chunk-f9970f68.a984500b.js.map