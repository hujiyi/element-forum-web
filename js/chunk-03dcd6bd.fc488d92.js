(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03dcd6bd"],{"53ca":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}},"69de":function(e,t,r){"use strict";r("d292")},7513:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"signup-module",attrs:{shadow:"always"}},[r("el-form",[r("div",{staticClass:"horiz-container form-title"},[r("span",[e._v("注册新用户")]),r("div",{staticClass:"spacer"}),r("span",[r("router-link",{attrs:{to:"/"}},[r("i",{staticClass:"fa fa-home fa-2x"})])],1)]),r("el-form-item",[r("el-input",{attrs:{type:"text","prefix-icon":"fa fa-envelope-o",placeholder:"电子邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("el-form-item",[r("el-input",{attrs:{type:"text","prefix-icon":"fa fa-user-o",placeholder:"用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("el-form-item",[r("el-input",{attrs:{type:"password","prefix-icon":"fa fa-lock ",placeholder:"密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("el-form-item",[r("el-button",{staticClass:"full-width",attrs:{type:"primary"},on:{click:e.createUser}},[e._v("注册新账号")])],1),r("div",{staticClass:"horiz-container"},[r("div",{staticClass:"spacer"}),r("router-link",{staticClass:"link",attrs:{to:"/login"}},[r("el-link",{attrs:{underline:!1,type:"success"}},[e._v("使用已有账号登录")])],1)],1)],1)],1)},a=[],s=r("1da1"),o=(r("96cf"),r("fee1")),u={name:"SignUp",data:function(){return{email:"",username:"",password:""}},methods:{createUser:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].signUp(e.username,e.password,e.email);case 2:if(r=t.sent,"200"!=r.status_code){t.next=12;break}return t.next=6,o["a"].getToken();case 6:n=t.sent,localStorage.setItem("token",n),e.$store.commit("SET_CURRENT_USER",r.user),e.$router.push("/dashboard"),t.next=14;break;case 12:a={202:"此用户名已被注册",203:"此电子邮箱已经被占用","-1":"请求被终止，请检查网络连接状况"},e.$notify.error({title:"注册失败",message:a[r.status_code],showClose:!1});case 14:case"end":return t.stop()}}),t)})))()}}},c=u,i=(r("69de"),r("2877")),l=Object(i["a"])(c,n,a,!1,null,null,null);t["default"]=l.exports},d292:function(e,t,r){},fee1:function(e,t,r){"use strict";var n=r("53ca"),a=r("1da1"),s=r("d4ec"),o=r("bee2"),u=(r("96cf"),r("c72e")),c=r.n(u),i=function(){function e(){Object(s["a"])(this,e)}return Object(o["a"])(e,[{key:"signUp",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:"",e.prev=1,a=new c.a.User,a.setUsername(t),a.setPassword(r),a.set("nickname",t),n&&a.setEmail(n),e.next=9,a.signUp();case 9:return s=e.sent,console.log("注册账号成功：",s),e.abrupt("return",{status_code:"200",user:s});case 14:return e.prev=14,e.t0=e["catch"](1),console.log("注册账号失败：",e.t0.code,e.t0),e.abrupt("return",{status_code:e.t0.code,user:null});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"logIn",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.User.logIn(t,r);case 3:if(n=e.sent,!n){e.next=7;break}return console.log("登录成功:",n),e.abrupt("return",{status_code:"200",user:n});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log("登录失败：",e.t0.code,e.t0),e.abrupt("return",{status_code:e.t0.code,user:null});case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"logOut",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.User.logOut());case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"passwordResetByEmail",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.User.requestPasswordReset(t);case 3:return r=e.sent,console.log(r.code,Object(n["a"])(r)),e.abrupt("return","200");case 8:return e.prev=8,e.t0=e["catch"](0),console.log("发送邮件：",e.t0.code,e.t0),e.abrupt("return",e.t0.code);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.User.current().getSessionToken());case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new i}}]);
//# sourceMappingURL=chunk-03dcd6bd.fc488d92.js.map